!function(){var t="bui/layout/";define("bui/layout",["bui/common",t+"abstract",t+"absolute",t+"anchor",t+"flow",t+"columns",t+"table",t+"border",t+"accordion",t+"viewport"],function(e){var n=e("bui/common"),i=n.namespace("Layout");return n.mix(i,{Abstract:e(t+"abstract"),Anchor:e(t+"anchor"),Flow:e(t+"flow"),Absolute:e(t+"absolute"),Columns:e(t+"columns"),Table:e(t+"table"),Border:e(t+"border"),Accordion:e(t+"accordion"),Viewport:e(t+"viewport")}),i})}(),define("bui/layout/abstract",["bui/common","bui/layout/baseitem"],function(require){var t=require("bui/common"),e=require("bui/layout/baseitem"),n=function(t){n.superclass.constructor.call(this,t)};return t.extend(n,t.Base),n.ATTRS={itemConstructor:{value:e},control:{},layoutEvents:{value:["afterWidthChange","afterHeightChange"]},items:{},elCls:{},defaultCfg:{value:{}},wraperCls:{},container:{},tpl:{},itemTpl:{value:"<div></div>"}},t.augment(n,{initializer:function(t){var e=this;e.set("control",t)},renderUI:function(){this._initWraper(),this.initItems()},bindUI:function(){var t=this,e=t.get("control"),n=t.get("layoutEvents").join(" ");e.on("afterAddChild",function(e){var n=e.child;t.addItem(n)}),e.on("afterRemoveChild",function(e){t.removeItem(e.child)}),e.on(n,function(){t.resetLayout()}),t.appendEvent(e)},appendEvent:function(){},_initWraper:function(){var t,e=this,n=e.get("control"),i=n.get("view").get("contentEl"),o=e.get("elCls"),a=e.get("tpl");t=a?$(a).appendTo(i):i,o&&t.addClass(o),e.set("container",t),e.afterWraper()},afterWraper:function(){},getItemByElement:function(t){return this.getItemBy(function(e){return $.contains(e.get("el")[0],t[0])})},getItemContainer:function(){return this.get("container")},initItems:function(){var t=this,e=t.get("control"),n=[],i=e.get("children");t.set("items",n);for(var o=0;o<i.length;o++)t.addItem(i[o]);t.afterInitItems()},afterInitItems:function(){},getNextItem:function(t){var e=this,n=e.getItemIndex(t),i=e.getCount(),o=(n+1)%i;return e.getItemAt(o)},getItemCfg:function(e){var n=this,i=n.get("defaultCfg"),o=t.mix({},i,{control:e,tpl:n.get("itemTpl"),layout:n,wraperCls:n.get("wraperCls")},e.get("layout"));return o.container=n.getItemContainer(o),o},initItem:function(t){var e=this,n=e.get("itemConstructor"),i=e.getItemCfg(t);return new n(i)},addItem:function(t){var e=this,n=e.getItems(),i=e.initItem(t);return n.push(i),i},removeItem:function(e){var n=this,i=n.getItems(),o=n.getItem(e);o&&(o.destroy(),t.Array.remove(i,o))},getItemBy:function(e){var n=this,i=n.getItems(),o=null;return t.each(i,function(t){return e(t)?(o=t,!1):void 0}),o},getItemsBy:function(e){var n=this,i=n.getItems(),o=[];return t.each(i,function(t){e(t)&&o.push(t)}),o},getItem:function(t){return this.getItemBy(function(e){return e.get("control")==t})},getCount:function(){return this.getItems().length},getItemAt:function(t){return this.getItems()[t]},getItemIndex:function(e){var n=this.getItems();return t.Array.indexOf(e,n)},getItems:function(){return this.get("items")},resetLayout:function(){var e=this,n=e.getItems();t.each(n,function(t){t.syncItem()})},clearLayout:function(){var e=this,n=e.getItems();t.each(n,function(t){t.destroy()})},reset:function(){this.resetLayout()},destroy:function(){var t=this;t.clearLayout(),t.off(),t.clearAttrVals()}}),n}),define("bui/layout/collapsable",["bui/common"],function(require){var t=require("bui/common"),e=function(){};return e.ATTRS={triggerCls:{},duration:{value:400},accordion:{value:!1}},t.augment(e,{bindCollapseEvent:function(){var t=this,e=t.get("triggerCls"),n=t.get("container");n.delegate("."+e,"click",function(e){var n=$(e.currentTarget),i=t.getItemByElement(n);t.toggleCollapse(i)})},getExpandedItem:function(){return this.getItemBy(function(t){return!t.get("collapsed")})},expandItem:function(t){var e,n=this,i=n.get("duration"),o=n.getCollapsedRange(t);t.get("collapsed")&&(n.get("accordion")&&(e=n.getExpandedItem(),e&&(n.beforeCollapsed(e,o),e.collapse(i,function(){n.afterCollapsed(e)}))),n.beforeExpanded(t,o),t.expand(o,i,function(){n.afterExpanded(t)}))},afterExpanded:function(){},beforeExpanded:function(){},collapseItem:function(t){var e,n=this,i=n.get("duration"),o=n.getCollapsedRange(t);t.get("collapsed")||(n.get("accordion")&&(e=n.getNextItem(t),n.beforeExpanded(e,o),e.expand(o,i,function(){n.afterExpanded(e)})),n.beforeCollapsed(t,o),t.collapse(i,function(){n.afterCollapsed(t)}))},beforeCollapsed:function(){},afterCollapsed:function(){},getCollapsedRange:function(){},toggleCollapse:function(t){var e=this;t.get("collapsed")?e.expandItem(t):e.collapseItem(t)}}),e}),define("bui/layout/absolute",["bui/common","bui/layout/abstract","bui/layout/absoluteitem"],function(require){var t="x-layout-relative",e=require("bui/common"),n=require("bui/layout/abstract"),i=require("bui/layout/absoluteitem"),o=function(t){o.superclass.constructor.call(this,t)};return o.ATTRS={itemConstructor:{value:i},elCls:{value:t},tpl:{},itemTpl:{value:'<div class="x-layout-item-absolute"></div>'}},e.extend(o,n),o}),define("bui/layout/anchor",["bui/common","bui/layout/abstract","bui/layout/anchoritem"],function(require){var t=require("bui/common"),e=require("bui/layout/abstract"),n=require("bui/layout/anchoritem"),i=function(t){i.superclass.constructor.call(this,t)};return i.ATTRS={itemConstructor:{value:n},itemTpl:{value:'<div class="x-layout-item"></div>'}},t.extend(i,e),i}),define("bui/layout/columns",["bui/common","bui/layout/abstract"],function(require){var t=require("bui/common"),e=require("bui/layout/abstract"),n=function(t){n.superclass.constructor.call(this,t)};return n.ATTRS={columns:{value:1},columnTpl:{value:'<div class="x-layout-column"></div>'},tpl:{value:'<div class="x-layout-columns"></div>'},itemTpl:{value:'<div class="x-layout-item-column"></div>'}},t.extend(n,e),t.augment(n,{resetLayout:function(){var t=this;t._setColumnsWidth(),n.superclass.resetLayout.call(t)},moveItem:function(t,e){var n,i=this;e>=i.get("columns")||0>e||(t.set("col",e),n=i.getItemContainer({col:e}),t.set("container",n),t.get("el").appendTo(n))},afterWraper:function(){for(var t=this,e=t.get("columns"),n=t.get("container"),i=[],o=0;e>o;o++)i.push(t.get("columnTpl"));n.html(i.join("")),t._setColumnsWidth()},_setColumnsWidth:function(){var e=this,n=e.get("container"),i=n.children(),o=n.width(),a=parseInt(o/i.length,10);t.each(i,function(t){var e=$(t),n=e.outerWidth()-e.width();e.width(a-n)})},getItemContainer:function(t){var e=this,n=e.get("items"),i=e.get("columns"),o=this.get("container");return void 0===t.col&&(t.col=n.length%i),$(o.find(".x-layout-column")[t.col])}}),n}),define("bui/layout/flow",["bui/common","bui/layout/abstract","bui/layout/baseitem"],function(require){var t=require("bui/common"),e=require("bui/layout/abstract"),n=require("bui/layout/baseitem"),i=function(t){i.superclass.constructor.call(this,t)};return i.ATTRS={itemConstructor:{value:n},itemTpl:{value:'<div class="x-layout-item-flow pull-left"></div>'}},t.extend(i,e),i}),define("bui/layout/table",["bui/common","bui/layout/abstract","bui/layout/cellitem"],function(require){var t=require("bui/common"),e=require("bui/layout/abstract"),n=require("bui/layout/cellitem"),i=function(t){i.superclass.constructor.call(this,t)};return i.ATTRS={itemConstructor:{value:n},lastRow:{value:0},tpl:{value:'<table class="x-layout-table"><tbody></tbody></table>'},defaultCfg:{value:{fit:"both"}},columns:{},rows:{},itemTpl:{value:'<td class="x-layout-item-cell"></td>'}},t.extend(i,e),t.augment(i,{afterWraper:function(){for(var t=this,e=t.get("rows"),n=t.get("container"),i=[],o=0;e>o;o++)i.push("<tr></tr>");n.find("tbody").html(i.join(""))},getItemContainer:function(t){var e=this.get("container");return $(e.find("tr")[t.row])},_getItemAppend:function(){var t=this,e=t.get("appendHeight");if(null==e){var n,i=t.getItemAt(0);i&&(e={},n=i.get("el"),e.width=n.outerHeight()-n.height(),e.height=n.outerWidth()-n.width(),t.set("append",e))}return e||{width:0,height:0}},_getCellAvg:function(){var t=this,e=t.get("control"),n=t.get("rows"),i=e.get("height"),o=e.get("width"),a=t._getItemAppend(),r=(i-a.height*n)/n,l=(o-a.width*n)/n;return{append:a,avgHeight:r,avgWidth:l}},_getItemDime:function(t,e){var n=this,i=n._getCellAvg();return t=t||1,e=e||1,{height:i.avgHeight*t+(t-1)*i.append.height,width:i.avgWidth*e+(e-1)*i.append.width}},resetLayout:function(){var e=this,n=e.getItems();t.each(n,function(t){var n=e._getItemDime(t.get("rowspan"),t.get("colspan"));t.set(n)}),i.superclass.resetLayout.call(this)},afterInitItems:function(){this.resetLayout()}}),i}),define("bui/layout/border",["bui/common","bui/layout/abstract","bui/layout/borderitem","bui/layout/collapsable"],function(require){var t=require("bui/common"),e=require("bui/layout/abstract"),n=require("bui/layout/borderitem"),i=require("bui/layout/collapsable"),o="x-border-top",a="x-border-middle",r="x-border-bottom",l=n.REGINS,s=function(t){s.superclass.constructor.call(this,t)};return s.ATTRS={layoutEvents:{value:["afterAddChild","afterRemoveChild"]},itemConstructor:{value:n},wraperCls:{value:"x-border-body"},duration:{value:200},triggerCls:{value:"x-collapsed-btn"},tpl:{value:'<div class="x-layout-border">					<div class="'+o+'"></div>					<div class="'+a+'"></div>					<div class="'+r+'"></div>				</div>'},itemTpl:{value:'<div class="x-border-{region} x-layout-item-border"><div class="x-border-body"></div></div>'}},t.extend(s,e),t.mixin(s,[i]),t.augment(s,{appendEvent:function(){this.bindCollapseEvent()},afterWraper:function(){var t=this,e=t.get("container"),n=e.find("."+o),i=e.find("."+a),l=e.find("."+r);t.set("topEl",n),t.set("middleEl",i),t.set("bottomEl",l)},afterInitItems:function(){this._setMiddleDimension()},_setMiddleDimension:function(){var t=this,e=t.get("middleEl"),n=t._getMiddleHeight(),i=t._getMiddleLeft(),o=t._getMiddleRight(),a=(t.get("items"),t.getItemsByRegion("center")[0]);if(e.height(n),a){var r=a.get("el");r.css({marginLeft:i,marginRight:o})}t._fitMiddleControl()},_fitMiddleControl:function(){var e=this,n=e.getItems();t.each(n,function(t){var e=t.get("region");(e==l.EAST||e==l.WEST||e==l.CENTER)&&t.syncFit()})},_getMiddleHeight:function(){var t,e,n=this,i=n.get("container"),o=i.height(),a=n.get("middleEl"),r=n.get("topEl");return e=r.children().length?o-r.outerHeight()-n.get("bottomEl").outerHeight():o-n.get("bottomEl").outerHeight(),t=a.outerHeight()-a.height(),e-t},getItemsByRegion:function(t){return this.getItemsBy(function(e){return e.get("region")===t})},_getMiddleLeft:function(){var e=this,n=e.getItemsByRegion("west"),i=0;return t.each(n,function(t){i+=t.get("el").outerWidth()}),i},_getMiddleRight:function(){var e=this,n=e.getItemsByRegion("east"),i=0;return t.each(n,function(t){i+=t.get("el").outerWidth()}),i},getItemContainer:function(t){var e,n=this;switch(t.region){case l.NORTH:e=n.get("topEl");break;case l.SOUTH:e=n.get("bottomEl");break;default:e=n.get("middleEl")}return e},beforeExpanded:function(t,e){this.beforeCollapsedChange(t,e,!1)},beforeCollapsedChange:function(t,e,n){var i=this,o=t.getCollapseProperty(),a=n?1:-1,r=i.get("duration");"height"==o?i._setMiddleHeight(e*a,r):i._setCenterWidth(t.get("region"),e*a*-1,r)},_setMiddleHeight:function(t,e){var n=this,i=n.get("middleEl"),o=i.height(),a=o+t;i.animate({height:a},e)},_setCenterWidth:function(t,e,n){var i,o,a=this,r=a.getItemsByRegion("center")[0],s=t==l.EAST?"marginRight":"marginLeft",u={};r&&(i=r.get("el")),o=parseFloat(i.css(s)),u[s]=e+o,i.animate(u,n)},getCollapsedRange:function(t){return t.getCollapsedRange()},beforeCollapsed:function(t,e){this.beforeCollapsedChange(t,e,!0)},afterExpanded:function(){6!=t.UA.ie&&this._fitMiddleControl()},afterCollapsed:function(){6!=t.UA.ie&&this._fitMiddleControl()},resetLayout:function(){var t=this;s.superclass.resetLayout.call(t),t._setMiddleDimension()}}),s}),define("bui/layout/accordion",["bui/common","bui/layout/abstract","bui/layout/tabitem","bui/layout/collapsable"],function(require){var t="x-layout-item-accordion",e=require("bui/common"),n=require("bui/layout/abstract"),i=require("bui/layout/tabitem"),o=require("bui/layout/collapsable"),a=function(t){a.superclass.constructor.call(this,t)};return a.ATTRS={itemConstructor:{value:i},wraperCls:{value:"x-accordion-body"},titleCls:{value:"x-accordion-title"},triggerCls:{value:"x-accordion-title"},layoutEvents:{value:["afterAddChild","afterRemoveChild"]},duration:{value:400},accordion:{value:!0},itemTpl:{value:'<div class="'+t+'"><div class="x-accordion-title">{title}<s class="x-expand-button"></s></div><div class="x-accordion-body"></div></div>'}},e.extend(a,n),e.mixin(a,[o]),e.augment(a,{appendEvent:function(){this.bindCollapseEvent()},getActivedItem:function(){return this.getExpandedItem()},afterInitItems:function(){this._resetActiveItem()},_resetActiveItem:function(){var t=this,e=t.getActivedItem()||t.getItems()[0];e.expand(t.getCollapsedRange(),0)},resetLayout:function(){var t=this;a.superclass.resetLayout.call(t),t._resetActiveItem()},getCollapsedRange:function(){var t=this,n=t.get("container"),i=n.height(),o=n.find("."+t.get("titleCls")),a=i;return e.each(o,function(t){a-=$(t).outerHeight()}),a}}),a}),define("bui/layout/viewport",["bui/common"],function(require){var t=require("bui/common"),e="x-viewport-container",n=(t.UA,window),i=t.Component.Controller.extend({renderUI:function(){this.reset();var t=this,n=t.get("render");$(n).addClass(e)},bindUI:function(){var e=this;$(n).on("resize",t.wrapBehavior(e,"onResize"))},onResize:function(){this.reset()},reset:function(){var e=this,n=(e.get("el"),t.viewportHeight()),i=t.viewportWidth(),o=e.getAppendWidth(),a=e.getAppendHeight();e.set("width",i-o),e.set("height",n-a),e.fire("resize")},destructor:function(){$(n).off("resize",t.getWrapBehavior(this,"onResize"))}},{ATTRS:{render:{value:"body"}}},{xclass:"view-port"});return i}),define("bui/layout/baseitem",["bui/common"],function(require){function t(t,n){return e.isString(n)?(-1!=n.indexOf("{")&&(n=e.substitute(n,t),n=e.JSON.looseParse(n)),n):n}var e=require("bui/common"),n=function(t){n.superclass.constructor.call(this,t),this.init()};return n.ATTRS={fit:{value:"none"},layout:{},control:{},wraperCls:{},container:{},srcNode:{},cssProperties:{value:["width","height"]},attrProperties:{},statusProperties:{},tplProperties:{},el:{},elCls:{},tpl:{}},e.extend(n,e.Base),e.augment(n,{init:function(){var t=this,e=t._wrapControl();t.set("el",e),t.syncItem()},getElement:function(){return this.get("el")},_wrapControl:function(){var t,n=this,i=n.get("control"),o=i.get("el"),a=n.get("elCls"),r=n._getContainer(o),l=e.substitute(n.get("tpl"),n.getLayoutAttrs()),s=$(l).appendTo(r);return a&&s.addClass(a),t=n.getControlContainer(s),o.appendTo(t),n.set("bodyEl",t),s},getControlContainer:function(t){var e=this,n=e.get("wraperCls");return n?t.find("."+n):t},syncItem:function(t){t=t||this.getLayoutAttrs();var e=this,n=e.get("el"),i=e._getSyncCss(t),o=e._getSyncAttr(t);n.css(i),n.attr(o),e.syncStatus(n,t),e.syncElements(n,t),e.syncFit()},syncElements:function(t,n){var i=this,o=i.get("tplProperties");o&&e.each(o,function(e){i.synTpl(t,e,n)})},synTpl:function(t,n,i){var o,a,r=this,l=n.name,s="_"+l+"El",u=r.get(s);i[l]?u||(o=r.get(n.value),o=e.substitute(o,i),a=n.prev?"prependTo":"appendTo",u=$(o)[a](t),r.set(s,u)):u&&u.remove()},syncStatus:function(t,n){t=t||this.get("el"),n=n||this.getLayoutAttrs();var i=this,o=i.get("statusProperties");o&&e.each(o,function(e){var n=i.get(e);if(null!=n){var o=n?"addClass":"removeClass",a="x-"+e;t[o](a)}})},syncFit:function(){var t=this,e=t.get("control"),n=t.get("fit");if("none"!==n)return"width"===n?void t._syncControlWidth(e):"height"===n?void t._syncControlHeight(e):void("both"===n&&(t._syncControlWidth(e),t._syncControlHeight(e)))},_syncControlWidth:function(t){var e=this,n=e.get("width")||e.get("el").width(),i=t.getAppendWidth();t.set("width",n-i)},_syncControlHeight:function(t){var e=this,n=e.getFitHeight(),i=t.getAppendHeight();t.set("height",n-i)},getFitHeight:function(){var t,n=this,i=n.get("el"),o=n.get("bodyEl"),a=n.get("height")||i.height(),r=a;return o[0]==i[0]?a:(t=o.siblings(),e.each(t,function(t){var e=$(t);"absolute"!==e.css("position")&&(r-=e.outerHeight())}),r)},getLayoutAttrs:function(){return this.getAttrVals()},_getSyncCss:function(n){var i=this,o=i.get("cssProperties"),a=i._getDynacAttrs(),r={};return e.each(o,function(e){r[e]=t(a,n[e])}),r},_getDynacAttrs:function(){var t=this,e=t.get("container");return{width:e.width(),height:e.height()}},_getSyncAttr:function(t){var n=this,i=n.get("attrProperties"),o={};return e.each(i,function(e){o[e]=t[e]}),o},_getContainer:function(t){var e=this,n=e.get("container");return n?n:t.parent()},destroy:function(){var t=this;t.get("el").remove(),t.off(),t.clearAttrVals()}}),n}),define("bui/layout/absoluteitem",["bui/common","bui/layout/baseitem"],function(require){var t=require("bui/common"),e=require("bui/layout/baseitem"),n=function(t){n.superclass.constructor.call(this,t)};return t.extend(n,e),n.ATTRS={cssProperties:{value:["top","left","bottom","right"]}},t.augment(n,{}),n}),define("bui/layout/anchoritem",["bui/common","bui/layout/baseitem"],function(require){function t(t,n){return e.isNumber(t)?t>0?t:"{"+n+"}"+t:e.isString(t)&&0==t.indexOf("-")?"{"+n+"}"+t:t}var e=require("bui/common"),n=require("bui/layout/baseitem"),i=function(t){i.superclass.constructor.call(this,t)};return i.ATTRS={anchor:{value:["100%"]}},e.extend(i,n),e.augment(i,{getLayoutAttrs:function(){var n=this,i=n.get("anchor"),o=e.mix({},n.getAttrVals()),a=i[0],r=i[1];return o.width=t(a,"width"),o.height=t(r,"height"),o}}),i}),define("bui/layout/borderitem",["bui/common","bui/layout/baseitem"],function(require){var t=require("bui/common"),e=require("bui/layout/baseitem"),n="x-collapsed",i={NORTH:"north",EAST:"east",SOUTH:"south",WEST:"west",CENTER:"center"},o=function(t){o.superclass.constructor.call(this,t)};return o.ATTRS={region:{},titleTpl:{value:'<div class="x-border-title x-border-title-{region}">{title}</div>'},collapseTpl:{value:'<s class="x-collapsed-btn x-collapsed-{region}"></s>'},collapsable:{value:!1},collapsed:{value:!1},leftRange:{value:28},tplProperties:{value:[{name:"title",value:"titleTpl",prev:!0},{name:"collapsable",value:"collapseTpl",prev:!0}]},statusProperties:{value:["collapsed"]}},o.REGINS=i,t.extend(o,e),t.augment(o,{syncElements:function(t,e){o.superclass.syncElements.call(this,t,e);var n=this,t=n.get("el"),i=n.getCollapseProperty();n.get("collapsed")&&n.get(i)==t[i]()&&n.collapse(0)},expand:function(t,e,i){var o=this,a=o.getCollapseProperty(),r=o.get("el"),l=o.get(a),s={};s[a]=l,r.animate(s,e,function(){o.set("collapsed",!1),r.removeClass(n),i&&i()})},getCollapseProperty:function(){var t=this,e=t.get("region");return e==i.SOUTH||e==i.NORTH?"height":"width"},_getLeftRange:function(){var t=this,e=(t.get("el"),t.get("leftRange"));return e},getCollapsedRange:function(){var e=this,n=e.getCollapseProperty(),i=(e.get("el"),e.get(n));if(t.isString(i)){var o=e._getDynacAttrs();-1!=i.indexOf("{")?(i=t.substitute(i,o),i=t.JSON.looseParse(i)):i=-1!=i.indexOf("%")?.01*parseInt(i,10)*o[n]:parseInt(i,10)}return i-e._getLeftRange(n)},collapse:function(t,e){var i=this,o=i.getCollapseProperty(),a=i.get("el"),r=i._getLeftRange(o),l={};l[o]=r,a.animate(l,t,function(){i.set("collapsed",!0),a.addClass(n),e&&e()})}}),o}),define("bui/layout/cellitem",["bui/common","bui/layout/baseitem"],function(require){var t=require("bui/common"),e=require("bui/layout/baseitem"),n=function(t){n.superclass.constructor.call(this,t)};return n.ATTRS={row:{},rowspan:{value:1},colspan:{value:1},attrProperties:{value:["rowspan","colspan"]},cells:{getter:function(){return this.get("rowspan")*this.get("colspan")}}},t.extend(n,e),t.augment(n,{}),n}),define("bui/layout/tabitem",["bui/common","bui/layout/baseitem"],function(require){var t=require("bui/common"),e="x-collapsed",n=require("bui/layout/baseitem"),i=function(t){i.superclass.constructor.call(this,t)};return i.ATTRS={collapsed:{value:!0},statusProperties:{value:["collapsed"]}},t.extend(i,n),t.augment(i,{expand:function(t,n){var i=this,o=i.get("el"),a=i.get("bodyEl");a.animate({height:t},n,function(){o.removeClass(e),i.syncFit()}),i.set("collapsed",!1)},collapse:function(t){var n=this,i=n.get("el"),o=n.get("bodyEl");o.animate({height:0},t,function(){i.addClass(e)}),n.set("collapsed",!0)}}),i});