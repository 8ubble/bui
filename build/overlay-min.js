define("bui/overlay",["bui/common","bui/overlay/overlay","bui/overlay/dialog","bui/overlay/message"],function(require){var e=require("bui/common"),t=e.namespace("Overlay");return e.mix(t,{Overlay:require("bui/overlay/overlay"),Dialog:require("bui/overlay/dialog"),Message:require("bui/overlay/message")}),e.mix(t,{OverlayView:t.Overlay.View,DialogView:t.Dialog.View}),e.Message=e.Overlay.Message,t}),define("bui/overlay/overlay",["bui/common"],function(require){var e=require("bui/common"),t=e.Component,i="x-align-arrow",n=t.UIBase,o=t.View.extend([n.PositionView,n.CloseView]),a=t.Controller.extend([n.Position,n.Align,n.Close,n.AutoShow,n.AutoHide],{renderUI:function(){var e=this,t=e.get("el"),i=e.get("arrowContainer"),n=i?t.one(i):t;e.get("showArrow")&&$(e.get("arrowTpl")).appendTo(n)},show:function(){function e(){"visibility"===o?n.css({display:"block"}):t.set("visible",!0),i.callback&&i.callback.call(t);var e=t.get("autoHideDelay"),a=t.get("delayHandler");e&&(a&&clearTimeout(a),a=setTimeout(function(){t.hide(),t.set("delayHandler",null)},e),t.set("delayHandler",a))}var t=this,i=t.get("effect"),n=t.get("el"),o=t.get("visibleMode"),a=i.effect,l=i.duration;switch(t.get("rendered")||(t.set("visible",!0),t.render(),t.set("visible",!1),n=t.get("el")),"visibility"===o&&(t.set("visible",!0),n.css({display:"none"})),a){case"linear":n.show(l,e);break;case"fade":n.fadeIn(l,e);break;case"slide":n.slideDown(l,e);break;default:e()}},hide:function(){function e(){"visibility"===t.get("visibleMode")&&n.css({display:"block"}),t.set("visible",!1),i.callback&&i.callback.call(t)}var t=this,i=t.get("effect"),n=t.get("el"),o=i.effect,a=i.duration;switch(o){case"linear":n.hide(a,e);break;case"fade":n.fadeOut(a,e);break;case"slide":n.slideUp(a,e);break;default:e()}}},{ATTRS:{effect:{value:{effect:"none",duration:0,callback:null}},autoHideDelay:{},closeable:{value:!1},showArrow:{value:!1},arrowContainer:{view:!0},arrowTpl:{value:'<s class="'+i+'"><s class="'+i+'-inner"></s></s>'},visibleMode:{value:"visibility"},visible:{value:!1},xview:{value:o}}},{xclass:"overlay"});return a.View=o,a}),define("bui/overlay/dialog",["bui/overlay/overlay"],function(require){var e=require("bui/overlay/overlay"),t=BUI.Component.UIBase,i="header-title",n=BUI.prefix,o=20,a=e.View.extend([t.StdModView,t.MaskView],{getContentElement:function(){return this.get("body")},_uiSetTitle:function(e){var t=this,n=t.get("el");n.find("."+i).html(e)},_uiSetContentId:function(e){var t=this,i=t.get("body"),n=$("#"+e).children();n.appendTo(i)},_uiSetHeight:function(e){var t=this,i=e,n=t.get("header"),a=t.get("body"),l=t.get("footer");i-=n.outerHeight()+l.outerHeight(),i-=2*o,a.height(i)},_removeContent:function(){var e=this,t=e.get("body"),i=e.get("contentId");i?t.children().appendTo($("#"+i)):t.children().remove()}},{xclass:"dialog-view"}),l=e.extend([t.StdMod,t.Mask,t.Drag],{show:function(){var e=this;align=e.get("align"),l.superclass.show.call(this),e.set("align",align)},bindUI:function(){var e=this;e.on("closeclick",function(){return e.onCancel()})},onCancel:function(){var e=this,t=e.get("cancel");return t.call(this)},_uiSetButtons:function(e){var t=this,i=t.get("footer");i.children().remove(),BUI.each(e,function(e){t._createButton(e,i)})},_createButton:function(e,t){var i=this,n='<button class="'+e.elCls+'">'+e.text+"</button>",o=$(n).appendTo(t);o.on("click",function(){e.handler.call(i,i,this)})},destructor:function(){var e=this,t=e.get("contentId"),i=e.get("body"),n=e.get("closeAction");"destroy"==n&&(e.hide(),t&&i.children().appendTo("#"+t))}},{ATTRS:{closeTpl:{view:!0,value:'<a tabindex="0" href=javascript:void("\u5173\u95ed") role="button" class="'+n+'ext-close" style=""><span class="'+n+'ext-close-x x-icon x-icon-normal">\xd7</span></a>'},buttons:{value:[{text:"\u786e\u5b9a",elCls:"button button-primary",handler:function(){var e=this,t=e.get("success");t&&t.call(e)}},{text:"\u53d6\u6d88",elCls:"button button-primary",handler:function(){this.onCancel()!==!1&&this.close()}}]},contentId:{view:!0},success:{value:function(){this.close()}},cancel:{value:function(){}},dragNode:{valueFn:function(){return this.get("header")}},defaultLoaderCfg:{valueFn:function(){var e=this;return{property:"bodyContent",autoLoad:!1,lazyLoad:{event:"show"},loadMask:{el:e.get("body")}}}},title:{view:!0,value:""},align:{value:{node:window,points:["cc","cc"]}},mask:{value:!0},maskShared:{value:!1},headerContent:{value:'<div class="'+i+'">\u6807\u9898</div>'},footerContent:{},closeable:{value:!0},xview:{value:a}}},{xclass:"dialog"});return l.View=a,l}),define("bui/overlay/message",["bui/overlay/dialog"],function(require){function e(e,i){return function(a,l,s){return BUI.isString(l)&&(s=l,l=null),s=s||i,l=l||n,t({buttons:e,icon:s,msg:a,success:l}),o}}function t(e){o||(o=new r({icon:"info",title:""})),o.set(e),o.show()}function i(){var e=this,t=e.get("success");t&&(t.call(e),e.hide())}function n(){this.hide()}var o,a=require("bui/overlay/dialog"),l=BUI.prefix,s={info:"i",error:"\xd7",success:'<i class="icon-ok icon-white"></i>',question:"?",warning:"!"},r=a.extend({renderUI:function(){this._setContent()},bindUI:function(){var e=this,t=e.get("body");e.on("afterVisibleChange",function(i){if(i.newVal&&BUI.UA.ie<8){var n=t.outerWidth();6==BUI.UA.ie&&(n=n>350?350:n),e.get("header").width(n-20),e.get("footer").width(n)}})},_setContent:function(){var e=this,t=e.get("body"),i=BUI.substitute(e.get("contentTpl"),{msg:e.get("msg"),iconTpl:e.get("iconTpl")});t.empty(),$(i).appendTo(t)},_uiSetIcon:function(){this.get("rendered")&&this._setContent()},_uiSetMsg:function(){this.get("rendered")&&this._setContent()}},{ATTRS:{icon:{},msg:{},iconTpl:{getter:function(){var e=this,t=e.get("icon");return'<div class="x-icon x-icon-'+t+'">'+s[t]+"</div>"}},contentTpl:{value:'{iconTpl}<div class="'+l+'message-content">{msg}</div>'}}},{xclass:"message",priority:0}),c=e([{text:"\u786e\u5b9a",elCls:"button button-primary",handler:i}],"info"),u=e([{text:"\u786e\u5b9a",elCls:"button button-primary",handler:i},{text:"\u53d6\u6d88",elCls:"button button-primary",handler:n}],"question");return r.Alert=c,r.Confirm=u,r.Show=t,r});