define("bui/progressbar",["bui/common","bui/progressbar/base","bui/progressbar/load"],function(require){var e=require("bui/common"),t=e.namespace("ProgressBar");return e.mix(t,{Base:require("bui/progressbar/base"),Load:require("bui/progressbar/load")}),t}),define("bui/progressbar/base",["bui/common"],function(require){var e=require("bui/common"),t=e.Component.View.extend({_uiSetPercent:function(t){var r=this,n=r.get("el").children();e.isArray(t)||(t=[t]),e.each(n,function(e,r){$(e).width(t[r]+"%")})}},{ATTRS:{percent:{}}}),r=e.Component.Controller.extend({},{ATTRS:{percent:{view:!0,value:0},tpl:{value:'<div class="progress-bar-inner"></div>'},xview:{value:t}}},{xclass:"progress-bar"});return r}),define("bui/progressbar/load",["bui/progressbar/base"],function(require){var e=require("bui/progressbar/base"),t=0,r=1,n=2,a=e.extend({bindUI:function(){var e=this;e.on("afterPercentChange",function(){if(e.isLoading()){var t=e.get("percent");100==t&&e.onCompleted(),e.onChange()}})},start:function(){var e=this;e.isLoading()||e.onstart()},complete:function(){var e=this;clearTimeout(e.get("t")),e.set("percent",100)},cancel:function(){var e=this;clearTimeout(e.get("t")),e.get("percent")&&e.set("percent",0),e.set("status",t)},onstart:function(){var e=this,t=e.get("cfg");e.set("percent",0),e.set("status",r),e.fire("start",t),e._startLoad()},onChange:function(){var e=this;e.fire("loadchange")},onCompleted:function(){var e=this;e.set("status",n),e.fire("completed")},isLoading:function(){return this.get("status")===r},isCompleted:function(){return this.get("status")===n},_startLoad:function(){var e,t=this,r=t.get("ajaxCfg"),n=t.get("interval");r.success=function(a){var s=a.percent;t.set("percent",s),100>s&&t.isLoading()&&(e=setTimeout(function(){$.ajax(r)},n),t.set("t",e))},$.ajax(r)}},{ATTRS:{status:{value:0},ajaxCfg:{},interval:{value:500},events:{}}},{xclass:"progress-bar-load"});return a});