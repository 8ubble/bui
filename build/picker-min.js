define("bui/picker",["bui/common","bui/picker/mixin","bui/picker/picker","bui/picker/listpicker"],function(require){var e=require("bui/common"),t=e.namespace("Picker");return e.mix(t,{Mixin:require("bui/picker/mixin"),Picker:require("bui/picker/picker"),ListPicker:require("bui/picker/listpicker")}),t}),define("bui/picker/mixin",function(){var e=function(){};return e.ATTRS={innerControl:{getter:function(){return this.get("children")[0]}},triggerEvent:{value:"click"},autoSetValue:{value:!0},changeEvent:{value:"selectedchange"},autoHide:{value:!0},hideEvent:{value:"itemclick"},textField:{},align:{value:{points:["bl","tl"],offset:[0,0]}},valueField:{}},e.prototype={__bindUI:function(){{var e=this;e.get("hideEvent"),$(e.get("trigger"))}e.on("show",function(){if(e.get("isInit")||e._initControl(),e.get("autoSetValue")){var t=e.get("valueField")||e.get("textField")||e.get("curTrigger"),i=$(t).val();e.setSelectedValue(i)}})},_initControl:function(){var e=this;if(!e.get("isInit")){if(!e.get("innerControl")){var t=e.createControl();e.get("children").push(t)}e.initControlEvent(),e.set("isInit",!0)}},initControl:function(){this._initControl()},createControl:function(){},initControlEvent:function(){var e=this,t=e.get("innerControl"),i=$(e.get("trigger")),n=e.get("hideEvent");t.on(e.get("changeEvent"),function(t){var n=e.get("curTrigger"),r=e.get("textField")||n||i,l=e.get("valueField"),c=e.getSelectedValue(),u=!1;if(r){var o=e.getSelectedText(),g=$(r).val();o!=g&&($(r).val(o),u=!0,$(r).trigger("change"))}if(l){var a=$(l).val();l!=a&&($(l).val(c),u=!0,$(l).trigger("change"))}u&&e.onChange(o,c,t)}),n&&t.on(e.get("hideEvent"),function(){var t=e.get("curTrigger");try{t&&t.focus()}catch(i){BUI.log(i)}e.hide()})},setSelectedValue:function(){},getSelectedValue:function(){},getSelectedText:function(){},focus:function(){this.get("innerControl").focus()},onChange:function(e,t){var i=this,n=i.get("curTrigger");i.fire("selectedchange",{value:t,text:e,curTrigger:n})},handleNavEsc:function(){this.hide()},_uiSetValueField:function(e){var t=this;null!=e&&""!==e&&t.setSelectedValue($(e).val())},_getTextField:function(){var e=this;return e.get("textField")||e.get("curTrigger")}},e}),define("bui/picker/picker",["bui/overlay","bui/picker/mixin"],function(require){var e=require("bui/overlay").Overlay,t=require("bui/picker/mixin"),i=e.extend([t],{},{ATTRS:{}},{xclass:"picker"});return i}),define("bui/picker/listpicker",["bui/picker/picker","bui/list"],function(require){var e=(require("bui/list"),require("bui/picker/picker")),t=e.extend({initializer:function(){var e=this,t=e.get("children"),i=e.get("list");i||t.push({})},setSelectedValue:function(e){e=e?e.toString():"",this.get("isInit")||this._initControl();var t=this,i=t.get("list"),n=t.getSelectedValue();e!==n&&i.getCount()&&(i.get("multipleSelect")&&i.clearSelection(),i.setSelectionByField(e.split(",")))},onChange:function(e,t,i){var n=this,r=n.get("curTrigger");n.fire("selectedchange",{value:t,text:e,curTrigger:r,item:i.item})},getSelectedValue:function(){return this.get("isInit")||this._initControl(),this.get("list").getSelectionValues().join(",")},getSelectedText:function(){return this.get("isInit")||this._initControl(),this.get("list").getSelectionText().join(",")}},{ATTRS:{defaultChildClass:{value:"simple-list"},list:{getter:function(){return this.get("children")[0]}}}},{xclass:"list-picker"});return t});